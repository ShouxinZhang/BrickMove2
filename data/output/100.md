### 定理 100

存在交换环 $R$ 使得其素谱 $\operatorname{Spec}(R)$ 为有限集，但 $R$ 不是诺特环。

---

### 证明

### Step 1: 构造环

取 $R = \operatorname{TrivSqZeroExt}\, \mathbb{Q}\, (\mathbb{Q}[X])$，即平方零扩张 $\mathbb{Q} \oplus \mathbb{Q}[X]$。其乘法为 $(a,m) \cdot (b,n) = (ab, an + bm)$，因此 $0 \oplus \mathbb{Q}[X]$ 是平方零理想。

API: `TrivSqZeroExt`, `CommRing`

### Step 2: 素谱为有限集

设 $f : R \to \mathbb{Q}$ 为第一投影（由 $\operatorname{TrivSqZeroExt.fstHom}$ 给出），令 $I = \ker(f)$。任意素理想 $P \subset R$ 都包含 $I$，因为若 $x \in I$ 则 $x$ 平方为 $0$，由素理想的根性得 $x \in P$。由此 $\operatorname{Ideal.map}(f, P)$ 是域 $\mathbb{Q}$ 上的素理想，只能为 $0$。又因 $f$ 满射，得 $P = \operatorname{Ideal.comap}(f, 0) = \ker(f)$。因此所有素理想都相等，$\operatorname{Spec}(R)$ 为单点集，从而有限。

API: `PrimeSpectrum`, `TrivSqZeroExt.fstHom`, `Function.Surjective`, `RingHom.ker`, `Ideal.map`, `Ideal.map_isPrime_of_surjective`, `Ideal.comap`

### Step 3: 反证非诺特

反设 $R$ 是诺特环。取 $I = \ker(f)$。由诺特性可知 $I$ 作为 $R$-子模有限生成。考虑 $\ell : I \to \mathbb{Q}[X]$，为包含映射 $I \hookrightarrow R$ 与第二投影 $\operatorname{TrivSqZeroExt.sndHom}$ 的复合。它是 $\mathbb{Q}$-线性且满射：对任意 $p \in \mathbb{Q}[X]$，有 $\operatorname{inr}(p) \in I$ 且 $\ell(\operatorname{inr}(p)) = p$。设 $S \subset I$ 为有限生成元集，令 $SV = \{ \ell(s) : s \in S \}$，取 $W = \operatorname{span}_{\mathbb{Q}}(SV)$。利用 $S$ 张成 $I$ 以及恒等式 $\ell(r \cdot y) = \operatorname{fst}(r) \cdot \ell(y)$（由 $\operatorname{TrivSqZeroExt.snd_mul}$ 给出），可对张量归纳推出任意 $p$ 都落在 $W$ 中，故 $W = \mathsf{Top}$。于是 $\mathbb{Q}[X]$ 被有限集合生成为 $\mathbb{Q}$-模，推出 $\mathbb{Q}[X]$ 为诺特 $\mathbb{Q}$-模，与“$\mathbb{Q}[X]$ 作为 $\mathbb{Q}$-模非诺特（维数无限）”矛盾，故 $R$ 非诺特环。

API: `IsNoetherianRing`, `Submodule.fg_top`, `Submodule.span`, `Submodule.span_induction`, `TrivSqZeroExt.sndHom`, `TrivSqZeroExt.inr`, `TrivSqZeroExt.snd_mul`, `TrivSqZeroExt.fst`, `Submodule.fg_span`, `IsNoetherian.iff_fg`

### Step 4: 结论

取 $R = \operatorname{TrivSqZeroExt}\, \mathbb{Q}\, (\mathbb{Q}[X])$，则 $\operatorname{Spec}(R)$ 有限而 $R$ 非诺特，命题得证。
